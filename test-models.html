<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dinosaur Models Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f0f0f0;
        }
        .model-test {
            background: white;
            padding: 20px;
            margin: 10px 0;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .model-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 10px 0;
        }
        .status {
            padding: 5px 10px;
            border-radius: 5px;
            font-weight: bold;
        }
        .status.loading { background: #ffeb3b; color: #000; }
        .status.success { background: #4caf50; color: white; }
        .status.error { background: #f44336; color: white; }
        .model-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .model-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .model-item h3 {
            margin: 0 0 10px 0;
            color: #333;
        }
        .model-item p {
            margin: 5px 0;
            color: #666;
        }
        .test-button {
            background: #2196f3;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #1976d2;
        }
    </style>
</head>
<body>
    <h1>ü¶ï Dinosaur Models Test</h1>
    <p>This page tests if your dinosaur models are loading correctly.</p>
    
    <div class="model-test">
        <h2>Model Loading Status</h2>
        <div id="loading-status">
            <div class="model-info">
                <span>Checking models...</span>
                <span class="status loading">Loading</span>
            </div>
        </div>
    </div>

    <div class="model-list" id="model-list">
        <!-- Models will be populated here -->
    </div>

    <div class="model-test">
        <h2>Quick Tests</h2>
        <button class="test-button" onclick="testAllModels()">Test All Models</button>
        <button class="test-button" onclick="testRandomModel()">Test Random Model</button>
        <button class="test-button" onclick="checkFileSizes()">Check File Sizes</button>
    </div>

    <div id="test-results"></div>

    <script>
        const models = [
            { name: 'Triceratops', file: 'triceratops.glb', type: 'triceratops' },
            { name: 'T-Rex', file: 'T-Rex.glb', type: 'tyrannosaurus' },
            { name: 'Stegosaurus', file: 'stegosaurus.glb', type: 'stegosaurus' },
            { name: 'Brontosaurus', file: 'brontosaurus.glb', type: 'brontosaurus' },
            { name: 'Spinosaurus', file: 'spinosaurus.glb', type: 'spinosaurus' },
            { name: 'Raptor', file: 'raptor.glb', type: 'raptor' },
            { name: 'Ankylosaurus', file: 'ankylosaurus.glb', type: 'ankylosaurus' },
            { name: 'Gallimimus', file: 'gallimimus.glb', type: 'gallimimus' },
            { name: 'Pachycephalosaurus', file: 'pachycephalosaurus.glb', type: 'pachycephalosaurus' },
            { name: 'Plesiosaurus', file: 'plesiasaurus.glb', type: 'plesiosaurus' },
            { name: 'Ichthyosaur', file: 'ichthyosaur.glb', type: 'ichthyosaur' },
            { name: 'Mosasaurus', file: 'mozazaur.glb', type: 'mozazaur' }
        ];

        let testResults = {};

        async function checkModel(model) {
            try {
                const response = await fetch(`models/${model.file}`, { method: 'HEAD' });
                return response.ok;
            } catch (error) {
                return false;
            }
        }

        async function testAllModels() {
            const results = document.getElementById('test-results');
            results.innerHTML = '<h3>Testing all models...</h3>';
            
            for (const model of models) {
                const isAvailable = await checkModel(model);
                testResults[model.file] = isAvailable;
                
                const status = isAvailable ? '‚úÖ Available' : '‚ùå Missing';
                results.innerHTML += `<p>${model.name}: ${status}</p>`;
            }
            
            const availableCount = Object.values(testResults).filter(Boolean).length;
            results.innerHTML += `<h3>Summary: ${availableCount}/${models.length} models available</h3>`;
        }

        async function testRandomModel() {
            const randomModel = models[Math.floor(Math.random() * models.length)];
            const isAvailable = await checkModel(randomModel);
            const results = document.getElementById('test-results');
            results.innerHTML = `<h3>Random Test: ${randomModel.name}</h3><p>Status: ${isAvailable ? '‚úÖ Available' : '‚ùå Missing'}</p>`;
        }

        async function checkFileSizes() {
            const results = document.getElementById('test-results');
            results.innerHTML = '<h3>File Sizes:</h3>';
            
            for (const model of models) {
                try {
                    const response = await fetch(`models/${model.file}`);
                    if (response.ok) {
                        const size = response.headers.get('content-length');
                        const sizeKB = size ? Math.round(size / 1024) : 'Unknown';
                        results.innerHTML += `<p>${model.name}: ${sizeKB} KB</p>`;
                    } else {
                        results.innerHTML += `<p>${model.name}: ‚ùå Not found</p>`;
                    }
                } catch (error) {
                    results.innerHTML += `<p>${model.name}: ‚ùå Error</p>`;
                }
            }
        }

        // Initialize the page
        window.addEventListener('load', async () => {
            const modelList = document.getElementById('model-list');
            
            for (const model of models) {
                const isAvailable = await checkModel(model);
                const statusClass = isAvailable ? 'success' : 'error';
                const statusText = isAvailable ? 'Available' : 'Missing';
                
                const modelItem = document.createElement('div');
                modelItem.className = 'model-item';
                modelItem.innerHTML = `
                    <h3>${model.name}</h3>
                    <p><strong>File:</strong> ${model.file}</p>
                    <p><strong>Type:</strong> ${model.type}</p>
                    <p><strong>Status:</strong> <span class="status ${statusClass}">${statusText}</span></p>
                `;
                
                modelList.appendChild(modelItem);
            }
            
            // Update loading status
            const loadingStatus = document.getElementById('loading-status');
            const availableCount = models.filter(m => testResults[m.file]).length;
            loadingStatus.innerHTML = `
                <div class="model-info">
                    <span>Models checked: ${availableCount}/${models.length}</span>
                    <span class="status ${availableCount === models.length ? 'success' : 'error'}">
                        ${availableCount === models.length ? 'All Available' : 'Some Missing'}
                    </span>
                </div>
            `;
        });
    </script>
</body>
</html>
